<main class="content">
  <div class="container">
    <div class="pb-4">
      <h2><span class="text-muted">Posts tagged with: </span>{{tag}}</h2>
    </div>
    <div class="row">
      {{#if tagDescription}}
        <div class="col-lg-4">
          <div class="header-text">
            {{{tagDescription.content}}}
            <button class="show-more">show more..</button>
          </div>
        </div>
        <div class="col-lg-8">
          <div class="row">
            {{#if posts.length}}
              {{#each posts}}
                {{> post this}}
              {{/each}}
            {{else}}
              {{> no-content}}
            {{/if}}
          </div>
        </div>
      {{else}}
        {{#if posts.length}}
          {{#each posts}}
            {{> post this col="4"}}
          {{/each}}
        {{else}}
          {{> no-content}}
        {{/if}}
      {{/if}}
    </div>
    <div class="btn-toolbar blog-pagination mb-5 justify-content-center">
      {{#if prevPage}}<a class="btn btn-outline-secondary mr-2" href="{{blogRoutePrefix}}/tagged/{{tag}}/page/{{prevPage}}">Previous page</a>{{/if}}
      <div class="input-group align-content-center">
        Page {{pageNum}} / {{totalPages}}
      </div>
      {{#if nextPage}}<a class="btn btn-outline-secondary ml-2" href="{{blogRoutePrefix}}/tagged/{{tag}}/page/{{nextPage}}">Next page</a>{{/if}}
    </div>
  </div>
</main>

<script type="text/javascript">
 $(document).ready(function(){
   if ($(".header-text").height() > 550) {
     $(".header-text").addClass("overflow-hidden");
     $(".show-more").click(function() {
       $(".header-text").removeClass("overflow-hidden");
     });
   }
 });
</script>
